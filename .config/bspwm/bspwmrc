#! /usr/bin/bash

if [ -e $BSPWM_STATE ]; then
    bspc wm -l "$BSPWM_STATE"
    pkill -f "sh.*lemonbar.sh"
    pkill -f "sh.*lemonbar_parser.sh"
    pkill -f "conky.*lemonbar_conky"
    pkill lemonbar
    pkill sxhkd
    rm "$BSPWM_STATE"
fi

sxhkd &
compton -b
xsetroot -solid black -cursor_name left_ptr
hsetroot -center ~/Pictures/pattern-black.png

bspc config border_width 2
bspc config normal_border_color '#000000'
bspc config focused_border_color '#b3b3bb'
bspc config window_gap 20
bspc config focus_follows_pointer true
bspc config ignore_ewmh_focus true
bspc config external_rules_command "/home/daniel/.config/bspwm/external_rules"
bspc config remove_disabled_monitors true
bspc config remove_unplugged_monitors true
bspc config merge_overlapping_monitors true

bspc rule -a Oblogout state=fullscreen
bspc rule -a Kcalc state=floating
bspc rule -a Pavucontrol state=floating
bspc rule -a Org.gnome.Weather.Application state=floating
bspc rule -a ksysguard state=floating
bspc rule -a *:libreoffice state=tiled

bspc config pointer_modifier mod1
bspc config pointer_action1 move
bspc config pointer_action2 resize_side
bspc config pointer_action2 resize_corner

bspc monitor -d 1 2 3 4 5 6 7 8 9 0

sh ~/.config/bspwm/lemonbar.sh
